# Вопросы для собеседования Python

## Общие вопросы
1. Рассказать о себе, что именно делалось на Python

2. Что такое PEP-8

3. **GIL** - Global Interpretator Lock что это такое?
Это механизм, который обеспечивает потокобезопасность в python, защищая память от неосмотрительных действий программиста. GIL обеспечивает то, что в каждый момент времени активен только один поток. Переключение между потоками такое быстрое, что может показаться, что ваша программа выполняет несколько потоков одновременно, хотя на деле активен только один поток.

4. Типы в Python
Изменяемы типы: (_list, dict, set_)
Неизменяемые типы: (_int, str, tuple_ и т.д.)

5. Что вернет функция:
    ```python
    def foo():
        return 1, 2
        print(type(foo())) 
    # class <tuple>
    ```

6. Решить задачу
    ```python
    def f(sum, l=[]):
        l.append(sum) 
        print(l)
    
    l = [1]
    
    f(10) 
    # [10]
    f(10) 
    # [10, 10]
    f(10, l) 
    # [1, 10]
    f(10) 
    # [10, 10, 10]
    print(l) 
    # [1, 10]
    ```
    
    `abc` отзеркалить `abcba`
    ```python
    func = lambda s: s + s[-2::-1]
    ```
    Массив на n элементов вывести самый часто повторяемый элемент
    ```python
    from collections import Counter
    
    c = Counter([1, 2, 2, 3]).most_common()[0]
    print(c)
    ```
    Объяснить поведение:
    ```python
    a = 255
    b = 255
    a is b # True
    a = 1024
    b = 1024
    a is b # False
    ```
   Найти самую длинную строку в листе
   ```python
   l = ['a', 'ab', 'abc', 'abce', 'qwe']
   max(l, key=len)
   # Доп: в чем минус данного подхода?
   
   # В случае нахождения 2х одинаковых по длинне строк выведет только 1
   ```
7. По каким объектам в Python можно итерироваться?
По всем типам в которых объявлен метод ```__iter__()``` или `__getitem__()`

8. Что такое Итератор? Итератор
— это интерфейс, предоставляющий доступ к элементам коллекции (массива или
контейнера).

9. Что такое генератор?
    Генератор - это функция, которая возвращает итератор, каждый раз "запоминает" свое состояние и генерирует по одному элементу за раз. Создается генератор, используя ключевое слово ```yield```. Пример простого генератора:
    ```python
    def simple_generator():
        print("generate")
        yield 1
        yield 2
    ```

10. Декораторы
    Что такое функция высшего порядка? (Функция которая принимает в качестве аргумента другую функцию)Для чего нужны? (Выступают в качестве обертки над функцией и выполнением какого-то кода до и после обернутой функции)
    Написать простейший декоратор
    ```python
    def my_dec(func):
        def wrapper():
            print('foo')
            func()
        return wrapper
    ```
    Применяем декоратор
    ```python
    @my_dec
    def test():
        print('bar')
    ```
    Абслолютно аналогично:
    ```python
    def test():
        print('bar')
    test = my_dec(test)
    ```
11. Для чего нужен ```self``` в методах класса
```self``` – это переменная, обозначающая принадлежность объекта самому себе
Можно ли написать метод без указателя self?
Да, можно. С помощью декоратора @staticmethod. Однако 
необходимо понимать, что в таком случае нельзя вызывать поля и методы класса

12. Данедеры, что это такое и зачем нужны

13. Что такое `*args`, `**kwargs`

14. Менеджеры контекста.
    Через contextlib:
    ```python
    from contextlib import contextmanager
     
    @contextmanager
    def file_open(path):
        try:
            f_obj = open(path, 'w')
            yield f_obj
        except OSError:
            print("We had an error!")
        finally:
            print('Closing file')
            f_obj.close()
    ```
    через дандеры:
    
    ```python
    class DataConn:
        
        def __init__(self, db_name):
            self.db_name = db_name    
        
        def __enter__(self):
            self.conn = sqlite3.connect(self.db_name)
            return self.conn
        
        def __exit__(self, exc_type, exc_val, exc_tb):
            self.conn.close()
            if exc_val:
                raise
     
    if __name__ == '__main__':
        db = 'test.db'
        with DataConn(db) as conn:
            cursor = conn.cursor()
    ```

15. Дескрипторы, что это и зачем нужно
```__get__()```, ```__set__()```, ```__delete__()```?
Это атрибут объекта со связанным поведением, т.е. такой, чьё поведение при доступе переопределяется методами протокола дескриптора. Эти методы: __get__, __set__ и __delete__. Если хотя бы один из этих методов определён для объекта, то он становится дескриптором.

16. ```if __name__ == '__main__':```
Её основное назначение — разделение кода, который будет выполнятся при вызове кода как модуля (при импортировании его в другой скрипт) — и при запуске самого модуля, как отдельного файла.

17. Виртуальное окружение, что это и для чего нужно
virtualenv

18. Как получить доступ к protected методам
    ```python
    class A:
        def __some_method(self):
            print('I am some method')
    
    if __name__ == '__main__':
        a = A()
        a._A__some_method()
    ```
19. Какие есть элементы функционального программирования в python?
    Список функций:
    1. map
    2. filter
    3. reduce
    4. lambda

20. Что такое анонимная функция? `lambda` И все что с ней связано

21. Тернарный опреатор. `condition_is_true if condition else condition_is_false`

22. Возможно ли множественное наследование? Что такое MRO?
    Да, можно указать более одного родителя в классе потомка. MRO – method resolution order, порядок разрешения методов. Алгоритм, по которому следует искать метод в случае, если у класса два и более родителей. Алгоритм линеизирует граф наследования. Коротко можно описать так: ищи слева направо. Поэтому чем правее стоит класс, тем меньше у него приоритет при поиске метода.

## Django

1. Что такое REST?
    REST (Representational state transfer) – соглашение о том, как выстраивать сервисы. Под REST часто имеют в виду т.н HTTP REST API. Как правило, это веб-приложение с набором урлов – конечных точек. Урлы принимают и возвращают данные в формате JSON. Тип операции задают методом HTTP-запроса, например:

    1. `GET` – получить объект или список объектов
    2. `POST` – создать объект
    3. `PUT` – обновить существующий объект
    4. `DELETE` – удалить объект
    5. `HEAD` – получить метаданные объекта
    
2. MVC (Model View Controller) - (модель-представление-контроллер) архитектуры приложений. В этой схеме «Модель» относится к структуре данным, «Представление» — относится к части, которая отвечает за выборку того, что и как отображать, а «Контроллер» — относится к части, которая определяет какое представление использовать, например — в зависимости от ввода данных пользователя.

3. В чем особенность MVC паттерна в Django. (Model View Template)

4. Что такое ORM? Object-Relational Mapper Альтернативы `SQLAlchemy`, `PonyORM`

5. Что такое шаблонизатор Jinja2

6. Что такое Middleware, для чего, как реализуется?
   Middleware – особый объект, который изменяет входящий запрос или исходящий ответ. Например, добавляет заголовки, делает предварительные проверки. Middleware нужен, когда требуется подвергнуть обработке все запросы приложения.
   На уровне языка это объект с методами process_request и process_response. Методы должны вернуть принятый объект (запрос или ответ) для дальнейшей обработки или выкинуть исключение, если что-то не в порядке. В этом случает дальнейшая обработка прекращается.
   Чтобы включить Middleware, достаточно добавить путь к нему в кортеж `MIDDLEWARE_CLASSES`.

7. Назовите основные мидлвари? Зачем они нужны?
   1. `SessionMiddleware` – поддержка сессий. Добавляет в запрос объект session
   2. `CsrfViewMiddleware` – проверяет, что POST-запросы отправлены с текущего домена
   3. `AuthenticationMiddleware` – авторизует пользователя. Добавляет в запрос поле user
   4. `MessageMiddleware` – передает пользователю короткие сообщения
